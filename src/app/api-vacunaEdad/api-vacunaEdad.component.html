<span>
    <p>Número de hijos añadidos: {{ vacunaedad?.vacunaedad[1].user.numChildren }}</p>
    <button mat-icon-button (click)="prepareCreate()">
        <mat-icon>add</mat-icon>
    </button>
    <form [style.display]="createChecked?'block':'none'">
        <mat-form-field name="name">
            <input matInput placeholder="Nombre">
        </mat-form-field>

        <mat-form-field name="edad">
            <input matInput placeholder="Edad">
        </mat-form-field>
        <button mat-icon-button (click)="create()">
            <mat-icon>save</mat-icon>
        </button>
    </form>
</span>
<form fxFlex [style.display]="(vacunaedad?.vacunaedad[1].user.numChildren != 0)?'block':'none'">
    <mat-form-field>
        <mat-select placeholder="Edad" [formControl]="edadControl" required>
            <mat-option *ngFor="let vacunaedad of vacunaedad?.vacunaedad" [value]="vacunaedad">
                {{ vacunaedad.edad }}
            </mat-option>
        </mat-select>
        <mat-error *ngIf="edadControl.hasError('required')">Elige edad</mat-error>
    </mat-form-field>
    <table *ngIf="edadControl.value.vacuna1 != undefined" style="list-style-type:none">

        <tr *ngIf="edadControl?.value.vacuna1 != ''">
            <td>
                <mat-checkbox name="vacuna1" [(ngModel)]="edadControl?.value.isVacunated1">
                    {{ edadControl?.value.vacuna1 }}
                </mat-checkbox>

                <mat-form-field>
                    <input matInput [matDatepicker]="date1" placeholder="Fecha" [value]="edadControl?.value.dateVacuna1">
                    <mat-datepicker-toggle matSuffix [for]="date1"></mat-datepicker-toggle>
                    <mat-datepicker #date1></mat-datepicker>
                </mat-form-field>
                <button mat-icon-button (click)="prepareUpdate(1)">
                    <mat-icon>edit</mat-icon>
                </button>

                <div fxLayout="column" fxFlex [style.display]="updateChecked?'block':'none'">
                    <span>
                        <mat-form-field>
                            <input matInput readonly type="number" name="id" [(ngModel)]="updateVacunaEdad.id" placeholder="Id">
                        </mat-form-field>
                        <mat-checkbox name="isVacunated1" [(ngModel)]="updateVacunaEdad.isVacunated1">
                            {{ edadControl?.value.vacuna1 }}
                        </mat-checkbox>
                        <mat-form-field>
                            <input matInput [matDatepicker]="date1update" name="date1update" placeholder="Fecha" [(ngModel)]="updateVacunaEdad.dateVacuna1">
                            <mat-datepicker-toggle matSuffix [for]="date1update"></mat-datepicker-toggle>
                            <mat-datepicker #date1update></mat-datepicker>
                        </mat-form-field>

                        <button mat-icon-button (click)="save(1)">
                            <mat-icon>save</mat-icon>
                        </button>
                    </span>
                    <span class="cancel">
                        <button mat-icon-button type="submit" (click)="cancel()">
                            <mat-icon>clear</mat-icon>
                        </button>
                    </span>
                </div>

            </td>
            <td>

            </td>
        </tr>
        <tr *ngIf="edadControl?.value.vacuna2 != ''">
            <td>
                <mat-checkbox>
                    {{ edadControl?.value.vacuna2 }}
                </mat-checkbox>
                <button mat-icon-button (click)="prepareUpdate(2)">
                    <mat-icon>save</mat-icon>
                </button>
            </td>
            <td>
                <mat-form-field>
                    <input matInput [matDatepicker]="date2" placeholder="Fecha" [value]="edadControl?.value.dateVacuna2">
                    <mat-datepicker-toggle matSuffix [for]="date2"></mat-datepicker-toggle>
                    <mat-datepicker #date2></mat-datepicker>
                </mat-form-field>
            </td>
        </tr>
        <tr *ngIf="edadControl?.value.vacuna3 != ''">
            <td>
                <mat-checkbox>
                    {{ edadControl?.value.vacuna3 }}
                </mat-checkbox>
            </td>
            <td>
                <mat-form-field>
                    <input matInput [matDatepicker]="date3" placeholder="Fecha" [value]="edadControl?.value.dateVacuna3">
                    <mat-datepicker-toggle matSuffix [for]="date3"></mat-datepicker-toggle>
                    <mat-datepicker #date3></mat-datepicker>
                </mat-form-field>
            </td>
        </tr>
        <tr *ngIf="edadControl?.value.vacuna4 != ''">
            <td>
                <mat-checkbox>
                    {{ edadControl?.value.vacuna4 }}
                </mat-checkbox>
            </td>
            <td>
                <mat-form-field>
                    <input matInput [matDatepicker]="date4" placeholder="Fecha" [value]="edadControl?.value.dateVacuna4">
                    <mat-datepicker-toggle matSuffix [for]="date4"></mat-datepicker-toggle>
                    <mat-datepicker #date4></mat-datepicker>
                </mat-form-field>
            </td>
        </tr>
        <tr *ngIf="edadControl?.value.vacuna5 != ''">
            <td>
                <mat-checkbox>
                    {{ edadControl?.value.vacuna5 }}
                </mat-checkbox>
            </td>
            <td>
                <mat-form-field>
                    <input matInput [matDatepicker]="date5" placeholder="Fecha" [value]="edadControl?.value.dateVacuna5">
                    <mat-datepicker-toggle matSuffix [for]="date5"></mat-datepicker-toggle>
                    <mat-datepicker #date5></mat-datepicker>
                </mat-form-field>
            </td>
        </tr>
        <tr *ngIf="edadControl?.value.vacuna6 != ''">
            <td>
                <mat-checkbox>
                    {{ edadControl?.value.vacuna6 }}
                </mat-checkbox>
            </td>
            <td>
                <mat-form-field>
                    <input matInput [matDatepicker]="date6" placeholder="Fecha" [value]="edadControl?.value.dateVacuna6">
                    <mat-datepicker-toggle matSuffix [for]="date6"></mat-datepicker-toggle>
                    <mat-datepicker #date6></mat-datepicker>
                </mat-form-field>
            </td>
        </tr>
    </table>
</form>